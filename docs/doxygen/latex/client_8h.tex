\hypertarget{client_8h}{}\section{Riferimenti per il file /mnt/c/\+Users/stefa/\+Desktop/system\+\_\+call/src/client.h}
\label{client_8h}\index{/mnt/c/\+Users/stefa/\+Desktop/system\+\_\+call/src/client.\+h@{/mnt/c/\+Users/stefa/\+Desktop/system\+\_\+call/src/client.\+h}}


Contiene la definizioni di variabili e funzioni specifiche del C\+L\+I\+E\+NT.  


Questo grafo mostra quali altri file includono direttamente o indirettamente questo file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{client_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{client_8h_a8c7084a254c7cd640d66e647795ff8f6}{operazioni\+\_\+client0} ()
\item 
void \hyperlink{client_8h_a48d605ff689f470746c858648f0a98c2}{S\+I\+G\+I\+N\+T\+Signal\+Handler} (int sig)
\begin{DoxyCompactList}\small\item\em Chiude tutte le I\+PC e termina. \end{DoxyCompactList}\item 
void \hyperlink{client_8h_a50b22adcb76198fcd9402a97ff4711bf}{S\+I\+G\+U\+S\+R1\+Signal\+Handler} (int sig)
\begin{DoxyCompactList}\small\item\em Handler del segnale S\+I\+G\+U\+S\+R1\+: chiude le risorse del client 0 e termina la sua esecuzione. \end{DoxyCompactList}\item 
void \hyperlink{client_8h_a55586f2b7e9b3620294cf78cda8abdad}{dividi} (int fd, char $\ast$buf, size\+\_\+t count, char $\ast$file\+Path, int parte)
\begin{DoxyCompactList}\small\item\em Divide in 4 parti il contenuto del file da inviare al server. \end{DoxyCompactList}\item 
void \hyperlink{client_8h_a54b47b58f228d7bc9827d2919687e25a}{operazioni\+\_\+figlio} (char $\ast$file\+Path)
\begin{DoxyCompactList}\small\item\em Funzione eseguita da ogni Client i (figli di Client 0) per mandare i file al server. \end{DoxyCompactList}\item 
int \hyperlink{client_8h_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
char $\ast$ \hyperlink{client_8h_a748983b7ce27515a3ad116ada4334c4e}{int\+\_\+to\+\_\+string} (int value)
\item 
bool \hyperlink{client_8h_ac129a55ffa08a55addb9ea1afbd709f8}{str\+Equals} (char $\ast$a, char $\ast$b)
\end{DoxyCompactItemize}


\subsection{Descrizione dettagliata}
Contiene la definizioni di variabili e funzioni specifiche del C\+L\+I\+E\+NT. 



\subsection{Documentazione delle funzioni}
\mbox{\Hypertarget{client_8h_a55586f2b7e9b3620294cf78cda8abdad}\label{client_8h_a55586f2b7e9b3620294cf78cda8abdad}} 
\index{client.\+h@{client.\+h}!dividi@{dividi}}
\index{dividi@{dividi}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{dividi()}{dividi()}}
{\footnotesize\ttfamily void dividi (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{char $\ast$}]{buf,  }\item[{size\+\_\+t}]{count,  }\item[{char $\ast$}]{file\+Path,  }\item[{int}]{parte }\end{DoxyParamCaption})}



Divide in 4 parti il contenuto del file da inviare al server. 


\begin{DoxyParams}{Parametri}
{\em fd} & File descriptor del file da inviare \\
\hline
{\em buf} & Buffer in cui memorizzare la porzione del messaggio \\
\hline
{\em count} & Dimensione della porzione di messaggio \\
\hline
{\em file\+Path} & Percorso del file da suddividere \\
\hline
{\em parte} & Numero identificativo della porzione di messaggio \\
\hline
\end{DoxyParams}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a55586f2b7e9b3620294cf78cda8abdad_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_a748983b7ce27515a3ad116ada4334c4e}\label{client_8h_a748983b7ce27515a3ad116ada4334c4e}} 
\index{client.\+h@{client.\+h}!int\+\_\+to\+\_\+string@{int\+\_\+to\+\_\+string}}
\index{int\+\_\+to\+\_\+string@{int\+\_\+to\+\_\+string}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{int\+\_\+to\+\_\+string()}{int\_to\_string()}}
{\footnotesize\ttfamily char$\ast$ int\+\_\+to\+\_\+string (\begin{DoxyParamCaption}\item[{int}]{value }\end{DoxyParamCaption})}

Converte un intero in stringa. \begin{quote}
E\textquotesingle{} necessaria la free() dopo aver terminato l\textquotesingle{}uso della stringa. \end{quote}



\begin{DoxyParams}{Parametri}
{\em value} & Valore intero da convertire in stringa \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
char$\ast$ Stringa contenente il valore 
\end{DoxyReturn}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a748983b7ce27515a3ad116ada4334c4e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_a0ddf1224851353fc92bfbff6f499fa97}\label{client_8h_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{client.\+h@{client.\+h}!main@{main}}
\index{main@{main}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}

Memorizza il percorso passato come parametro, gestisce segnali e handler, attende i segnali S\+I\+G\+I\+NT o S\+I\+G\+U\+S\+R1.


\begin{DoxyParams}{Parametri}
{\em argc} & Numero argomenti passati da linea di comando (compreso il nome dell\textquotesingle{}eseguibile) \\
\hline
{\em argv} & Array di argomenti passati da linea di comando \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
int Exit code dell\textquotesingle{}intero programma
\end{DoxyReturn}
Esegue operazioni principali del server.

terminazione effettuata con S\+I\+G\+I\+NT\+: Al termine chiudi tutte le I\+PC.

\begin{DoxyRefDesc}{Warnings}
\item[\hyperlink{warning__warning000004}{Warnings}]I file devono essere riuniti appena vengono ricevuti i 4 pezzi oppure va bene riunirli alla fine? \end{DoxyRefDesc}
Questo è il grafo delle chiamate per questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_a8c7084a254c7cd640d66e647795ff8f6}\label{client_8h_a8c7084a254c7cd640d66e647795ff8f6}} 
\index{client.\+h@{client.\+h}!operazioni\+\_\+client0@{operazioni\+\_\+client0}}
\index{operazioni\+\_\+client0@{operazioni\+\_\+client0}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{operazioni\+\_\+client0()}{operazioni\_client0()}}
{\footnotesize\ttfamily void operazioni\+\_\+client0 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Esegue tutte le funzionalita\textquotesingle{} principali del client 0.

Non vengono eseguite in \hyperlink{client_8h_a48d605ff689f470746c858648f0a98c2}{S\+I\+G\+I\+N\+T\+Signal\+Handler()} per il seguente motivo\+: \href{https://man7.org/linux/man-pages/man7/signal-safety.7.html}{\tt https\+://man7.\+org/linux/man-\/pages/man7/signal-\/safety.\+7.\+html}

\begin{DoxyRefDesc}{Da fare}
\item[\hyperlink{todo__todo000002}{Da fare}]Potrebbe essere necessario ottimizzare l\textquotesingle{}uso dello H\+E\+AP nel client 0. Attualmente la dimensione massima occupata dal client e\textquotesingle{}\+: \$\$100 file $\ast$ dim. path + 100 file $\ast$ dim. pointer\$\$. Assumento dim. path massima = 250 caratteri e dim. pointer 4 byte (32 bit)\+: \$\$100 $\ast$ 250 + 100 $\ast$ 4 = 25400\$\$ Quindi solo lato client si occupano 25 K\+Byte. Quando viene creato un client esso eredita momentaneamente la lista creando al massimo un\textquotesingle{}altra lista concatenata. Quindi in pratica si occupano\+: \$\$25 $\ast$ 2 = 50\$\$ Ovvero 50 KB.\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Warnings}
\item[\hyperlink{warning__warning000001}{Warnings}]Per ottimizzare l\textquotesingle{}uso dello H\+E\+AP nel client 0 si potrebbe prima cercare e contare quanti file sono presenti senza creare una lista concatenata e poi ricercare i file e man mano che si trovano file send\+\_\+me si puo\textquotesingle{} creare il processo figlio per inviare il file. Per fare questo B\+I\+S\+O\+G\+NA sapere se il numero di file puo\textquotesingle{} cambiare durante l\textquotesingle{}esecuzione di questa funzione\+: se trovo 3 file e dopo un file viene cancellato cosa succede? ~\newline
 N\+O\+TA\+: questo problema puo\textquotesingle{} esserci anche nella situazione attuale...\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Warnings}
\item[\hyperlink{warning__warning000002}{Warnings}]Il client 0 deve attendere i processi figlio? La specifica indica solo che bisogna attendere il messaggio di fine dal server... Attualmente prima si attendere il messaggio di fine e poi si aspetta che tutti i figlio terminino.\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Warnings}
\item[\hyperlink{warning__warning000003}{Warnings}]Il percorso passato al client deve essere assoluto o puo\textquotesingle{} essere relativo? Se si passa un percorso relativo chdir() fallira\textquotesingle{} alla seconda esecuzione. ~\newline
 S\+O\+L\+U\+Z\+I\+O\+NE\+: si potrebbe usare un altro chdir() a fine funzione per tornare al percorso di esecuzione iniziale anticipando il chdir() successivo.\end{DoxyRefDesc}
Questo è il grafo delle chiamate per questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a8c7084a254c7cd640d66e647795ff8f6_cgraph}
\end{center}
\end{figure}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{client_8h_a8c7084a254c7cd640d66e647795ff8f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_a54b47b58f228d7bc9827d2919687e25a}\label{client_8h_a54b47b58f228d7bc9827d2919687e25a}} 
\index{client.\+h@{client.\+h}!operazioni\+\_\+figlio@{operazioni\+\_\+figlio}}
\index{operazioni\+\_\+figlio@{operazioni\+\_\+figlio}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{operazioni\+\_\+figlio()}{operazioni\_figlio()}}
{\footnotesize\ttfamily void operazioni\+\_\+figlio (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+Path }\end{DoxyParamCaption})}



Funzione eseguita da ogni Client i (figli di Client 0) per mandare i file al server. 


\begin{DoxyParams}{Parametri}
{\em file\+Path} & Percorso del file che il client deve suddividere e mandare al server. \\
\hline
\end{DoxyParams}
Questo è il grafo delle chiamate per questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a54b47b58f228d7bc9827d2919687e25a_cgraph}
\end{center}
\end{figure}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a54b47b58f228d7bc9827d2919687e25a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_a48d605ff689f470746c858648f0a98c2}\label{client_8h_a48d605ff689f470746c858648f0a98c2}} 
\index{client.\+h@{client.\+h}!S\+I\+G\+I\+N\+T\+Signal\+Handler@{S\+I\+G\+I\+N\+T\+Signal\+Handler}}
\index{S\+I\+G\+I\+N\+T\+Signal\+Handler@{S\+I\+G\+I\+N\+T\+Signal\+Handler}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{S\+I\+G\+I\+N\+T\+Signal\+Handler()}{SIGINTSignalHandler()}}
{\footnotesize\ttfamily void S\+I\+G\+I\+N\+T\+Signal\+Handler (\begin{DoxyParamCaption}\item[{int}]{sig }\end{DoxyParamCaption})}



Chiude tutte le I\+PC e termina. 

Handler del segnale S\+I\+G\+I\+NT.

Non fa niente, permette solo al processo di risvegliarsi dal pause().

Le funzionalita\textquotesingle{} principali vengono eseguite da \hyperlink{client_8c_a8c7084a254c7cd640d66e647795ff8f6}{operazioni\+\_\+client0()} e non qui per il seguente motivo\+: \href{https://man7.org/linux/man-pages/man7/signal-safety.7.html}{\tt https\+://man7.\+org/linux/man-\/pages/man7/signal-\/safety.\+7.\+html}


\begin{DoxyParams}{Parametri}
{\em sig} & Valore intero corrispondente a S\+I\+G\+I\+NT\\
\hline
{\em sig} & Intero che rappresenta il segnale catturato dalla funzione \\
\hline
\end{DoxyParams}
Questo è il grafo delle chiamate per questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a48d605ff689f470746c858648f0a98c2_cgraph}
\end{center}
\end{figure}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{client_8h_a48d605ff689f470746c858648f0a98c2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_a50b22adcb76198fcd9402a97ff4711bf}\label{client_8h_a50b22adcb76198fcd9402a97ff4711bf}} 
\index{client.\+h@{client.\+h}!S\+I\+G\+U\+S\+R1\+Signal\+Handler@{S\+I\+G\+U\+S\+R1\+Signal\+Handler}}
\index{S\+I\+G\+U\+S\+R1\+Signal\+Handler@{S\+I\+G\+U\+S\+R1\+Signal\+Handler}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{S\+I\+G\+U\+S\+R1\+Signal\+Handler()}{SIGUSR1SignalHandler()}}
{\footnotesize\ttfamily void S\+I\+G\+U\+S\+R1\+Signal\+Handler (\begin{DoxyParamCaption}\item[{int}]{sig }\end{DoxyParamCaption})}



Handler del segnale S\+I\+G\+U\+S\+R1\+: chiude le risorse del client 0 e termina la sua esecuzione. 


\begin{DoxyParams}{Parametri}
{\em sig} & Valore intero corrispondente a S\+I\+G\+U\+S\+R1 \\
\hline
\end{DoxyParams}
Questo è il grafo delle chiamate per questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_a50b22adcb76198fcd9402a97ff4711bf_cgraph}
\end{center}
\end{figure}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{client_8h_a50b22adcb76198fcd9402a97ff4711bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{client_8h_ac129a55ffa08a55addb9ea1afbd709f8}\label{client_8h_ac129a55ffa08a55addb9ea1afbd709f8}} 
\index{client.\+h@{client.\+h}!str\+Equals@{str\+Equals}}
\index{str\+Equals@{str\+Equals}!client.\+h@{client.\+h}}
\subsubsection{\texorpdfstring{str\+Equals()}{strEquals()}}
{\footnotesize\ttfamily bool str\+Equals (\begin{DoxyParamCaption}\item[{char $\ast$}]{a,  }\item[{char $\ast$}]{b }\end{DoxyParamCaption})}

Restituisce vero se due stringhe sono uguali


\begin{DoxyParams}{Parametri}
{\em a} & Stringa da confrontare \\
\hline
{\em b} & Stringa da confrontare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
true a e b sono uguali 

false a e b sono diverse 
\end{DoxyReturn}
Questo è il grafo dei chiamanti di questa funzione\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8h_ac129a55ffa08a55addb9ea1afbd709f8_icgraph}
\end{center}
\end{figure}
